# =============================================================================
# PostgreSQL Client Authentication Configuration
# =============================================================================
# TYPE  DATABASE        USER            ADDRESS                 METHOD

# Local connections (Unix socket)
local   all             postgres                                trust
local   all             all                                     scram-sha-256

# -----------------------------------------------------------------------------
# Replication connections - Password Authentication
# -----------------------------------------------------------------------------
host    replication     replicator      0.0.0.0/0               scram-sha-256
host    replication     replicator      ::/0                    scram-sha-256

# -----------------------------------------------------------------------------
# All other connections - Password Authentication
# (Caddy terminates TLS, so connections arrive as plaintext on internal network)
# -----------------------------------------------------------------------------
host    all             all             0.0.0.0/0               scram-sha-256
host    all             all             ::/0                    scram-sha-256
